<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Virtual Tour Pura Lingsar</title>
    <!-- Include the Tailwind CSS CDN -->
    <link href="./assets/css/output.css" rel="stylesheet" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css"
      integrity="sha512-SnH5WK+bZxgPHs44uWIX+LLJAJ9/2PkPKZ5QiAj6Ta86w+fsb2TkcmfRyVX3pBnMFcV7oQPJkl9QevSCWr3W6A=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />
  </head>

  <body class="bg-slate-50">
    <!-- Navbar -->
    <nav id="navbar" class="bg-primary px-4 sm:px-10 py-4 top-0">
      <div class="3xl:container flex justify-between items-center">
        <div>
          <!-- Logo -->
          <a href="beranda.html" class="text-white text-xl font-bold flex items-center space-x-2">
            <img src="./assets/img/logo.png" alt="logo" class="max-w-[60px]">
            <span>
              Virtual Tour Pura Lingsar
            </span>
          </a>
          <!-- Navbar Links -->
          <div class="hidden lg:flex md:items-center md:space-x-1 mt-2">
            <a href="beranda.html" class="text-white hover:bg-white hover:text-black py-1 px-4 rounded-lg">Beranda</a>
            <a href="aset.html" class="text-white hover:bg-white hover:text-black py-1 px-4 rounded-lg">Aset</a>
            <a href="virtual_tour/index.htm" class="text-white hover:bg-white hover:text-black py-1 px-4 rounded-lg">Virtual Tour 360 &deg;</a>
            <a href="3d_explorer.html" class="text-white active hover:bg-white hover:text-black py-1 px-4 rounded-lg">3D Explorer</a>
            <a href="informasi.html" class="text-white hover:bg-white hover:text-black py-1 px-4 rounded-lg">Informasi</a>
          </div>
        </div>
        <div class="hidden lg:block">
          <p class="text-right text-white font-semibold">Desa Lingsar, <br> Kecamatan Narmada, <br>Provinsi NTB</p>
        </div>
        <!-- Mobile Menu Button (Hamburger Icon) -->
        <div id="mobileMenuBTN" class="lg:hidden">
          <button class="text-white focus:outline-none">
            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7"></path>
            </svg>
          </button>
        </div>
      </div>
      <!-- Mobile Menu (Hidden by Default) -->
      <div id="mobileMenu" class="hidden lg:hidden bg-primary py-4">
        <a href="beranda.html" class="block text-white py-2 px-4 hover:bg-white hover:text-black rounded-full">Beranda</a>
        <a href="aset.html" class="block text-white py-2 px-4 hover:bg-white hover:text-black rounded-full">Aset</a>
        <a href="virtual_tour/index.htm" class="block text-white py-2 px-4 hover:bg-white hover:text-black rounded-full">Virtual Tour 360 &deg;</a>
        <a href="3d_explorer.html" class="block text-white py-2 px-4 hover:bg-white hover:text-black rounded-full">3D Explorer</a>
        <a href="informasi.html" class="block text-white py-2 px-4 hover:bg-white hover:text-black rounded-full">Informasi</a>
      </div>
    </nav>

    <div class="3xl:container">
      <div class="py-5 px-4 sm:px-10">
        <div class="flex flex-col lg:flex-row lg:h-[500px]">
          <!-- Video player -->
          <div class="w-full lg:w-2/3 h-full md:px-4" id="frame3D"></div>
          <!-- Playlist -->
          <div class="w-[400px] lg:w-1/3 lg:pl-4 mt-5 lg:mt-0 md:px-4 overflow-auto">
            <ul id="playlist"></ul>
          </div>
        </div>
      </div>
    </div>

    <!-- <footer class="py-8 border border-top-black text-center">
        <div id="sosial-media" class="text-3xl text-slate-600 space-x-3">
            <a href="#"><i class="hover:cursor-pointer fa-brands fa-instagram"></i></a>
            <a href="#"><i class="hover:cursor-pointer fa-brands fa-facebook-f"></i></a>
            <a href="#"><i class="hover:cursor-pointer fa-brands fa-twitter"></i></a>
        </div>
        <div id="footer-item" class="space-x-3 my-3">
            <a href="#" class="text-blue-600 hover:cursor-pointer">Beranda</a>
            <a href="#" class="text-blue-600 hover:cursor-pointer">Kontak</a>
            <a href="#" class="text-blue-600 hover:cursor-pointer">Blog</a>
        </div>
        <span class="text-slate-400 font-open-sans">&copy; Copyright 2024, All rights reserved.</span>
    </footer> -->
    <!-- Custom JavaScript to toggle mobile menu -->
    <script>
      const menuBtn = document.querySelector('#mobileMenuBTN');
      const mobileMenu = document.querySelector('#mobileMenu');
      const tempItemPlaylist = document.querySelector('#playlist');
      const iframe = document.querySelector('#frame3D');

      menuBtn.addEventListener('click', () => {
        mobileMenu.classList.toggle('hidden');
      });

      const data3Dexplorer = [
        {
          id: 1,
          title: 'Patung 1',
          deskripsi: 'Patung ini berada pada bangunan petaulan (penghubung) yang terletak di komplek Kemaliq Lingsar.',
          src: 'https://sketchfab.com/models/f22077bc92844794bdd45f0236573964/embed',
          thumbnail: 'https://media.sketchfab.com/models/f22077bc92844794bdd45f0236573964/thumbnails/165b208d389142fe8ff82f8bbfa68332/263e35fbc79d4b11936facc8d1c91847.jpeg',
        },
        {
          id: 2,
          title: 'Patung 2',
          deskripsi: 'Patung ini berjumlah 2 patung dengan bentk yang sama saling berpasangan, berada pada bangunan candi bentar yang terletak antara Nista Mandala dan Pratama Mandala',
          src: 'https://sketchfab.com/models/cc37461d82844d79aa55985d4a700d3c/embed',
          thumbnail: 'https://media.sketchfab.com/models/cc37461d82844d79aa55985d4a700d3c/thumbnails/3e838e064a774a99a725b1c67522dcd7/0acee56c83c84957b3ccf99540949da6.jpeg',
        },
        {
          id: 3,
          title: 'Katil',
          deskripsi: `Tempat pemuka agama memimpin upacara di pura`,
          src: 'https://sketchfab.com/models/6e4b8537a31b4c45b55263f516ff3d65/embed',
          thumbnail: 'https://media.sketchfab.com/models/6e4b8537a31b4c45b55263f516ff3d65/thumbnails/08c8fbd51ec94a0cb9c49fa5900688cd/2054f105a0c645f683dee76bfd6fcda0.jpeg',
        },
        {
          id: 4,
          title: 'Arca Garuda Wisnu (Mata Air Suci)',
          deskripsi: `Objek yang disebut Batara Wisnu atau Batara Gangga. Konon jika kita melempar uang koin ke mata air maka akan dikabulkan keinginan sesuai dengan kepercayaan masing-masing`,
          src: 'https://sketchfab.com/models/48dee9ef84bb42ca957518f1f7ae2553/embed',
          thumbnail: 'https://media.sketchfab.com/models/48dee9ef84bb42ca957518f1f7ae2553/thumbnails/70f1293102214a9885427000f76ff06d/f1038c7f0b694e2f8b451fb3d911352a.jpeg',
        },
        {
          id: 5,
          title: 'Pancuran',
          deskripsi: `Pancuran yang terletak di sebelah selatan Kemaliq, ada dua buah pancuran yang berada di sebelah barat dan timur, biasanya di manfaatkan untuk membersihkan diri sebelum melakukan peribadatan`,
          src: 'https://sketchfab.com/models/c39acf8805ea4893acd635b13198bd62/embed',
          thumbnail: 'https://media.sketchfab.com/models/c39acf8805ea4893acd635b13198bd62/thumbnails/f3c95f4b4af64ffa8427658f0072722e/fba1dd3cc3c24b268eba620939c5b32a.jpeg',
        },
        {
          id: 6,
          title: 'Kori Agung Komplek Kemaliq',
          deskripsi: `Merupakan pintu masuk menuju komplek area Kemaliq yang berbentuk sederhana dengan dua patung didepannya`,
          src: 'https://sketchfab.com/models/95f83c68f2144bcabbbb5adba4b04ae0/embed',
          thumbnail: 'https://media.sketchfab.com/models/95f83c68f2144bcabbbb5adba4b04ae0/thumbnails/538b15ffa12b4405929541fd05042780/f2bf72ce01894465b3cb2fc7d88bf0c0.jpeg',
        },
        {
          id: 7,
          title: 'Penyungsungan Betara Gunung Agung',
          deskripsi: `terbuat dari batu bata dan batu padas tanpa atap. Badan (Pelinggih) dari bangunan ini penuh dengan hiasan bunga padma dan relief punakawan yang ada dalam cerita pewayangan.`,
          src: 'https://sketchfab.com/models/36aba03776fb4e2b9e5d9a8b8585db2b/embed',
          thumbnail: 'https://media.sketchfab.com/models/36aba03776fb4e2b9e5d9a8b8585db2b/thumbnails/24c2b3a56eac4f3698f20b794582c44c/ea3427e7b0ab457290e6bd63aa552652.jpeg',
        },
      ];

      function renderPlaylistItem(data) {
        return `
              <li class="mb-2 shadow-lg rounded-md overflow-hidden item-3d-explore border border-slate-200" id="${data.id}">
                <a href="#" class="flex items-start">
                  <div class="w-40 h-24 object-cover mr-2 bg-cover bg-left img">
                    <img src="${data.thumbnail}" class="h-full w-full" />
                  </div>
                  <span class="font-bold p-3 w-[280px]">${data.title}</span>
                </a>
              </li>
            `;
      }

      function loadMainVideo(data) {
        return `
          <iframe
              class="w-full h-56 sm:h-96 lg:h-full"
              frameborder="0"
              allowfullscreen
              mozallowfullscreen="true"
              webkitallowfullscreen="true"
              allow="autoplay; fullscreen; xr-spatial-tracking"
              xr-spatial-tracking
              execution-while-out-of-viewport
              execution-while-not-rendered
              web-share
              src="${data.src}"
            >
            </iframe>
            <h1 class="font-bold mt-5 text-2xl md:text-3xl">${data.title}</h1>
            <p class="my-3">${data.deskripsi}</p>
        `;
      }

      function initialize() {
        const itemPlaylist = document.querySelectorAll('.item-3d-explore');
        itemPlaylist.forEach((item) => {
          item.addEventListener('click', () => {
            const id = item.getAttribute('id');
            const data = data3Dexplorer.find((e) => e.id == id);
            iframe.innerHTML = loadMainVideo(data);
          });
        });
      }

      window.addEventListener('load', () => {
        tempItemPlaylist.innerHTML = '';
        iframe.innerHTML = loadMainVideo(data3Dexplorer[0]);
        data3Dexplorer.forEach((data) => {
          tempItemPlaylist.innerHTML += renderPlaylistItem(data);
        });

        initialize();
      });

      window.onscroll = function () {
        var navbarContent = document.querySelector('#navbar');
        if (window.pageYOffset > 65) {
          navbarContent.classList.add('scrollAnimate');
        } else {
          navbarContent.classList.remove('scrollAnimate');
        }
      };
    </script>
  </body>
</html>
